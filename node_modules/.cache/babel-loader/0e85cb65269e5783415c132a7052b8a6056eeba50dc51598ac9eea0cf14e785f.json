{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/DELL/Desktop/Final_FYP/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/DELL/Desktop/Final_FYP/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _toConsumableArray from\"C:/Users/DELL/Desktop/Final_FYP/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import React from'react';import'./index.css';import SelectQuiz from'../sub.png';import{useSelector,useDispatch}from'react-redux';import{useNavigate}from'react-router-dom';import axios from'axios';import{setCurrentRound,setCurrentTeam,setTotalRounds}from'../redux/features/Team';import{toast}from'react-toastify';import{setTime}from'../redux/features/Timer';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Result=function Result(){var currentRound=useSelector(function(state){return state.teams.currentRound;});var totalRounds=useSelector(function(state){return state.teams.totalRounds;});var dispatch=useDispatch();var navigate=useNavigate();var teams=useSelector(function(state){return state.teams.data;});var sortedTeams=_toConsumableArray(teams);sortedTeams.sort(function(a,b){return b.score-a.score;});var handleClick=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.post('/results',{round:currentRound+1,teams:sortedTeams});case 3:response=_context.sent;if(response.status===201){console.log('Result saved successfully');}else{console.log('Error saving result');}_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.log('Error:',_context.t0.message);case 10:if(currentRound+1>=totalRounds){toast.info('Thanks for participating');dispatch(setCurrentRound(0));dispatch(setCurrentTeam(0));dispatch(setTotalRounds(0));dispatch(setTime(0));navigate('/main2');}else{dispatch(setCurrentRound(currentRound+1));dispatch(setCurrentTeam(0));navigate('/subject');}case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function handleClick(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:\"result\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"quiz\",style:{backgroundImage:\"url(\".concat(SelectQuiz,\")\"),backgroundPosition:'center center',backgroundSize:'cover',backgroundRepeat:'no-repeat',width:'100%',height:'100vh'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"round-detail\",children:/*#__PURE__*/_jsx(\"div\",{className:\"round\",children:/*#__PURE__*/_jsxs(\"h1\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"Result\"}),\" Round : \",currentRound+1]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-content\",children:/*#__PURE__*/_jsx(\"ol\",{children:sortedTeams===null||sortedTeams===void 0?void 0:sortedTeams.map(function(team,index){return/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsxs(\"p\",{children:[team.universityname,\" University\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Score : \",team.score]})]},\"\".concat(index,\"_\").concat(team===null||team===void 0?void 0:team.teamname));})})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-submit\",children:/*#__PURE__*/_jsx(\"button\",{className:\"Color-White\",onClick:handleClick,children:currentRound+1>=totalRounds?'Go to Main Screen':'continue'})})]})]})});};export default Result;","map":{"version":3,"names":["React","SelectQuiz","useSelector","useDispatch","useNavigate","axios","setCurrentRound","setCurrentTeam","setTotalRounds","toast","setTime","Result","currentRound","state","teams","totalRounds","dispatch","navigate","data","sortedTeams","sort","a","b","score","handleClick","post","round","response","status","console","log","message","info","backgroundImage","backgroundPosition","backgroundSize","backgroundRepeat","width","height","map","team","index","universityname","teamname"],"sources":["C:/Users/DELL/Desktop/Final_FYP/frontend/src/component/result.js"],"sourcesContent":["import React from 'react';\r\nimport './index.css';\r\nimport SelectQuiz from '../sub.png';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\n\r\nimport {\r\n  setCurrentRound,\r\n  setCurrentTeam,\r\n  setTotalRounds,\r\n} from '../redux/features/Team';\r\nimport { toast } from 'react-toastify';\r\nimport { setTime } from '../redux/features/Timer';\r\nconst Result = () => {\r\n  const currentRound = useSelector((state) => state.teams.currentRound);\r\n  const totalRounds = useSelector((state) => state.teams.totalRounds);\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n\r\n  let teams = useSelector((state) => state.teams.data);\r\n  let sortedTeams = [...teams];\r\n  sortedTeams.sort((a, b) => b.score - a.score);\r\n\r\n  const handleClick = async  () => {\r\n    try {\r\n      const response = await axios.post('/results', {\r\n        round: currentRound + 1,\r\n        teams: sortedTeams,\r\n      });\r\n\r\n      if (response.status === 201) {\r\n        console.log('Result saved successfully');\r\n      } else {\r\n        console.log('Error saving result');\r\n      }\r\n    } catch (error) {\r\n      console.log('Error:', error.message);\r\n    }\r\n\r\n    if (currentRound + 1 >= totalRounds) {\r\n      toast.info('Thanks for participating');\r\n      dispatch(setCurrentRound(0));\r\n      dispatch(setCurrentTeam(0));\r\n      dispatch(setTotalRounds(0));\r\n      dispatch(setTime(0));\r\n      navigate('/main2');\r\n    } else {\r\n      dispatch(setCurrentRound(currentRound + 1));\r\n      dispatch(setCurrentTeam(0));\r\n      navigate('/subject');\r\n    }\r\n  };\r\n  return (\r\n    <div className=\"result\">\r\n      <div\r\n        className=\"quiz\"\r\n        style={{\r\n          backgroundImage: `url(${SelectQuiz})`,\r\n          backgroundPosition: 'center center',\r\n          backgroundSize: 'cover',\r\n          backgroundRepeat: 'no-repeat',\r\n          width: '100%',\r\n          height: '100vh',\r\n        }}\r\n      >\r\n        <div className=\"round-detail\">\r\n          <div className=\"round\">\r\n            <h1>\r\n              <span>Result</span> Round : {currentRound + 1}\r\n            </h1>\r\n          </div>\r\n        </div>\r\n        <div className=\"container\">\r\n          <div className=\"flex-content\">\r\n            <ol>\r\n              {sortedTeams?.map((team, index) => {\r\n                return (\r\n                  <li key={`${index}_${team?.teamname}`}>\r\n                    <p>{team.universityname} University</p>\r\n                    <p>Score : {team.score}</p>\r\n                  </li>\r\n                );\r\n              })}\r\n            </ol>\r\n          </div>\r\n          <div className=\"card-submit\">\r\n            <button className=\"Color-White\" onClick={handleClick}>\r\n              {currentRound + 1 >= totalRounds\r\n                ? 'Go to Main Screen'\r\n                : 'continue'}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Result;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}