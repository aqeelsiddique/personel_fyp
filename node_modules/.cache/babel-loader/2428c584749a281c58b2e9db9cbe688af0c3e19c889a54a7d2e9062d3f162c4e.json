{"ast":null,"code":"import React from\"react\";import{toast}from\"react-toastify\";import{ClipLoader}from\"react-spinners\";import{useSelector,useDispatch}from\"react-redux\";import{useNavigate}from\"react-router-dom\";import SelectQuiz from\"../sub.png\";import Timer from\"./Timer\";import\"./index.css\";import{setCurrentTeam,setTeamScore}from\"../redux/features/Team\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Quiz=function Quiz(props){var _teams$currentTeam3;var navigate=useNavigate();var dispatch=useDispatch();var currentTeam=useSelector(function(state){return state.teams.currentTeam;});var teams=useSelector(function(state){return state.teams.data;});var totalTeams=useSelector(function(state){return state.teams.totalTeams;});var loading=useSelector(function(state){return state.questions.loading;});var randomIndex=useSelector(function(state){return state.questions.randomIndex;});var questions=useSelector(function(state){return state.questions.data;});var timeDuration=useSelector(function(state){return state.timer.maxTime;});if(loading){return/*#__PURE__*/_jsx(\"div\",{style:{height:\"100vh\",display:\"flex\",justifyContent:\"center\",alignItems:\"center\"},children:/*#__PURE__*/_jsx(ClipLoader,{size:\"30\"})});}if(questions.length===0){return/*#__PURE__*/_jsx(\"div\",{style:{height:\"100vh\",display:\"flex\",justifyContent:\"center\",alignItems:\"center\"},children:\"No Questions Found\"});}var currentQuestion=questions[randomIndex];// This function handles moving to next team or round\nvar handleRound=function handleRound(){// Now move to next Team for current Round, but first we will make sure round is also completed\nif(currentTeam+1===totalTeams){navigate(\"/result\",{state:{roundCompleted:true}});}else{dispatch(setCurrentTeam(currentTeam+1));navigate(\"/subject\");}};var handleOptionSelect=function handleOptionSelect(selectedOption){if(selectedOption.trim().toLowerCase()===currentQuestion.ans.trim().toLowerCase()){var _teams$currentTeam,_teams$currentTeam2;toast.success(\"Correct !\");dispatch(setTeamScore({name:(_teams$currentTeam=teams[currentTeam])===null||_teams$currentTeam===void 0?void 0:_teams$currentTeam.teamname,score:((_teams$currentTeam2=teams[currentTeam])===null||_teams$currentTeam2===void 0?void 0:_teams$currentTeam2.score)+10}));}else{toast.error(\"Wrong !\");}handleRound();};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"quiz\",style:{backgroundImage:\"url(\".concat(SelectQuiz,\")\"),backgroundPosition:\"center center\",backgroundSize:\"cover\",backgroundRepeat:\"no-repeat\",width:\"100%\",height:\"100vh\"},children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"quiz-team-detail\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-4 \",children:/*#__PURE__*/_jsxs(\"h2\",{className:\"name\",children:[\"Team \",currentTeam+1]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-4 \",children:/*#__PURE__*/_jsx(\"h2\",{className:\"round\",children:\"Database\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-4   timer\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"circle\",children:/*#__PURE__*/_jsx(Timer,{duration:timeDuration,handleRound:handleRound})})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"quiz-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"question\",children:currentQuestion.image?/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\",justifyContent:\"center\",alignItems:\"center\",width:\"400px\",height:\"400px\"},children:/*#__PURE__*/_jsx(\"img\",{src:\"/images/\"+currentQuestion.image,alt:\"Question Image\",style:{maxWidth:\"100%\",maxHeight:\"100%\"}})}):currentQuestion.ques},currentQuestion._id),/*#__PURE__*/_jsxs(\"div\",{className:\"options\",children:[/*#__PURE__*/_jsx(\"p\",{onClick:function onClick(){return handleOptionSelect(currentQuestion.option1);},children:currentQuestion.option1}),/*#__PURE__*/_jsx(\"p\",{onClick:function onClick(){return handleOptionSelect(currentQuestion.option2);},children:currentQuestion.option2}),/*#__PURE__*/_jsx(\"p\",{onClick:function onClick(){return handleOptionSelect(currentQuestion.option3);},children:currentQuestion.option3}),/*#__PURE__*/_jsx(\"p\",{onClick:function onClick(){return handleOptionSelect(currentQuestion.option4);},children:currentQuestion.option4})]},currentQuestion._id)]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Current Score: \",((_teams$currentTeam3=teams[currentTeam])===null||_teams$currentTeam3===void 0?void 0:_teams$currentTeam3.score)||0]})]})})});};export default Quiz;","map":{"version":3,"names":["React","toast","ClipLoader","useSelector","useDispatch","useNavigate","SelectQuiz","Timer","setCurrentTeam","setTeamScore","Quiz","props","navigate","dispatch","currentTeam","state","teams","data","totalTeams","loading","questions","randomIndex","timeDuration","timer","maxTime","height","display","justifyContent","alignItems","length","currentQuestion","handleRound","roundCompleted","handleOptionSelect","selectedOption","trim","toLowerCase","ans","success","name","teamname","score","error","backgroundImage","backgroundPosition","backgroundSize","backgroundRepeat","width","image","maxWidth","maxHeight","ques","_id","option1","option2","option3","option4"],"sources":["C:/Users/DELL/Desktop/Final_FYP/frontend/src/component/quiz.js"],"sourcesContent":["import React from \"react\";\r\nimport { toast } from \"react-toastify\";\r\nimport { ClipLoader } from \"react-spinners\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport SelectQuiz from \"../sub.png\";\r\nimport Timer from \"./Timer\";\r\nimport \"./index.css\";\r\nimport { setCurrentTeam, setTeamScore } from \"../redux/features/Team\";\r\n\r\nconst Quiz = (props) => {\r\n  const navigate = useNavigate();\r\n  const dispatch = useDispatch();\r\n  const currentTeam = useSelector((state) => state.teams.currentTeam);\r\n  const teams = useSelector((state) => state.teams.data);\r\n  const totalTeams = useSelector((state) => state.teams.totalTeams);\r\n  const loading = useSelector((state) => state.questions.loading);\r\n  const randomIndex = useSelector((state) => state.questions.randomIndex);\r\n  const questions = useSelector((state) => state.questions.data);\r\n  const timeDuration = useSelector((state) => state.timer.maxTime);\r\n  if (loading) {\r\n    return (\r\n      <div\r\n        style={{\r\n          height: \"100vh\",\r\n          display: \"flex\",\r\n          justifyContent: \"center\",\r\n          alignItems: \"center\",\r\n        }}\r\n      >\r\n        <ClipLoader size=\"30\" />\r\n      </div>\r\n    );\r\n  }\r\n  if (questions.length === 0) {\r\n    return (\r\n      <div\r\n        style={{\r\n          height: \"100vh\",\r\n          display: \"flex\",\r\n          justifyContent: \"center\",\r\n          alignItems: \"center\",\r\n        }}\r\n      >\r\n        No Questions Found\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const currentQuestion = questions[randomIndex];\r\n\r\n  // This function handles moving to next team or round\r\n  const handleRound = () => {\r\n    // Now move to next Team for current Round, but first we will make sure round is also completed\r\n    if (currentTeam + 1 === totalTeams) {\r\n      navigate(\"/result\", { state: { roundCompleted: true } });\r\n    } else {\r\n      dispatch(setCurrentTeam(currentTeam + 1));\r\n      navigate(\"/subject\");\r\n    }\r\n  };\r\n\r\n  const handleOptionSelect = (selectedOption) => {\r\n    if (\r\n      selectedOption.trim().toLowerCase() ===\r\n      currentQuestion.ans.trim().toLowerCase()\r\n    ) {\r\n      toast.success(\"Correct !\");\r\n      dispatch(\r\n        setTeamScore({\r\n          name: teams[currentTeam]?.teamname,\r\n          score: teams[currentTeam]?.score + 10,\r\n        })\r\n      );\r\n    } else {\r\n      toast.error(\"Wrong !\");\r\n    }\r\n    handleRound();\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div\r\n        className=\"quiz\"\r\n        style={{\r\n          backgroundImage: `url(${SelectQuiz})`,\r\n          backgroundPosition: \"center center\",\r\n          backgroundSize: \"cover\",\r\n          backgroundRepeat: \"no-repeat\",\r\n          width: \"100%\",\r\n          height: \"100vh\",\r\n        }}\r\n      >\r\n        <div className=\"container\">\r\n          <div className=\"quiz-team-detail\">\r\n            <div className=\"row\">\r\n              <div className=\"col-lg-4 \">\r\n                <h2 className=\"name\">Team {currentTeam + 1}</h2>\r\n              </div>\r\n              <div className=\"col-lg-4 \">\r\n                <h2 className=\"round\">Database</h2>\r\n              </div>\r\n              <div className=\"col-lg-4   timer\">\r\n                <h1 className=\"circle\">\r\n                  <Timer duration={timeDuration} handleRound={handleRound} />\r\n                </h1>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"quiz-content\">\r\n            <div className=\"question\" key={currentQuestion._id}>\r\n              {currentQuestion.image ? (\r\n                <div\r\n                  style={{\r\n                    display: \"flex\",\r\n                    justifyContent: \"center\",\r\n                    alignItems: \"center\",\r\n                    width: \"400px\",\r\n                    height: \"400px\",\r\n                  }}\r\n                >\r\n                  <img\r\n                    src={\"/images/\" + currentQuestion.image}\r\n                    alt=\"Question Image\"\r\n                    style={{ maxWidth: \"100%\", maxHeight: \"100%\" }}\r\n                  />\r\n                </div>\r\n              ) : (\r\n                currentQuestion.ques\r\n              )}\r\n            </div>\r\n            <div className=\"options\" key={currentQuestion._id}>\r\n              <p onClick={() => handleOptionSelect(currentQuestion.option1)}>\r\n                {currentQuestion.option1}\r\n              </p>\r\n              <p onClick={() => handleOptionSelect(currentQuestion.option2)}>\r\n                {currentQuestion.option2}\r\n              </p>\r\n              <p onClick={() => handleOptionSelect(currentQuestion.option3)}>\r\n                {currentQuestion.option3}\r\n              </p>\r\n              <p onClick={() => handleOptionSelect(currentQuestion.option4)}>\r\n                {currentQuestion.option4}\r\n              </p>\r\n            </div>\r\n          </div>\r\n\r\n          {/* <button\r\n            disabled={currentQuestionIndex === questions.length - 1}\r\n            onClick={handleNextQuestion}\r\n          >\r\n            Next Question\r\n          </button> */}\r\n\r\n          <div>Current Score: {teams[currentTeam]?.score || 0}</div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\nexport default Quiz;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}