{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/DELL/Desktop/Final_FYP/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/DELL/Desktop/Final_FYP/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/DELL/Desktop/Final_FYP/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import Sub from'../sub.png';import{useNavigate}from'react-router-dom';import{useSelector,useDispatch}from'react-redux';import{fetchQuestion}from'../redux/features/Question';import{toast}from'react-toastify';import'./index.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Subject(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),subjects=_useState2[0],setSubjects=_useState2[1];var teams=useSelector(function(state){return state.teams.data;});var currentTeam=useSelector(function(state){return state.teams.currentTeam;});var selectedRound=useSelector(function(state){return state.teams.roundSelected;});var currentRound=useSelector(function(state){return state.teams.currentRound;});var navigate=useNavigate();var dispatch=useDispatch();useEffect(function(){function fetchSubjects(){return _fetchSubjects.apply(this,arguments);}function _fetchSubjects(){_fetchSubjects=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch('/subjects');case 2:response=_context.sent;_context.next=5;return response.json();case 5:data=_context.sent;console.log('Subjects: ',data);setSubjects(data);case 8:case\"end\":return _context.stop();}}},_callee);}));return _fetchSubjects.apply(this,arguments);}fetchSubjects();},[]);var handleSubjectClick=function handleSubjectClick(id){dispatch(fetchQuestion(encodeURIComponent(id))).unwrap().then(function(){return navigate('/Quiz');}).catch(function(err){return toast.error((err===null||err===void 0?void 0:err.message)||'Something went wrong');});};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"subject\",style:{backgroundImage:\"url(\".concat(Sub,\")\"),backgroundPosition:'center',backgroundSize:'cover',backgroundRepeat:'no-repeat',width:'100%',height:'100vh'},children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'24px',color:'white'},children:currentRound+1}),/*#__PURE__*/_jsxs(\"div\",{className:\"round flex-row\",children:[/*#__PURE__*/_jsx(\"p\",{children:teams[currentTeam].universityname||'University Name'}),/*#__PURE__*/_jsxs(\"h1\",{children:[\"Quiz \",/*#__PURE__*/_jsxs(\"span\",{children:[\" \",selectedRound.replace('_',' '),\" \"]})]}),' ',/*#__PURE__*/_jsx(\"p\",{children:teams[currentTeam].teamname||'Team Name'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"sub\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"sub-title text-center text-white\",children:/*#__PURE__*/_jsx(\"h2\",{children:\"Select Subject\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"sub-content\",children:subjects.map(function(subject){return/*#__PURE__*/_jsx(\"p\",{className:\"subj\",onClick:function onClick(){return handleSubjectClick(subject===null||subject===void 0?void 0:subject.name);},children:subject.name},subject._id);})})]})]})})});}export default Subject;","map":{"version":3,"names":["React","useEffect","useState","Sub","useNavigate","useSelector","useDispatch","fetchQuestion","toast","Subject","subjects","setSubjects","teams","state","data","currentTeam","selectedRound","roundSelected","currentRound","navigate","dispatch","fetchSubjects","fetch","response","json","console","log","handleSubjectClick","id","encodeURIComponent","unwrap","then","catch","err","error","message","backgroundImage","backgroundPosition","backgroundSize","backgroundRepeat","width","height","fontSize","color","universityname","replace","teamname","map","subject","name","_id"],"sources":["C:/Users/DELL/Desktop/Final_FYP/frontend/src/component/subject.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport Sub from '../sub.png';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { fetchQuestion } from '../redux/features/Question';\r\nimport { toast } from 'react-toastify';\r\nimport './index.css';\r\n\r\nfunction Subject() {\r\n  const [subjects, setSubjects] = useState([]);\r\n  const teams = useSelector((state) => state.teams.data);\r\n  const currentTeam = useSelector((state) => state.teams.currentTeam);\r\n  const selectedRound = useSelector((state) => state.teams.roundSelected);\r\n  const currentRound = useSelector((state) => state.teams.currentRound);\r\n\r\n  const navigate = useNavigate();\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    async function fetchSubjects() {\r\n      const response = await fetch('/subjects');\r\n      const data = await response.json();\r\n      console.log('Subjects: ', data);\r\n      setSubjects(data);\r\n    }\r\n    fetchSubjects();\r\n  }, []);\r\n\r\n  const handleSubjectClick = (id) => {\r\n    dispatch(fetchQuestion(encodeURIComponent(id)))\r\n      .unwrap()\r\n      .then(() => navigate('/Quiz'))\r\n      .catch((err) => toast.error(err?.message || 'Something went wrong'));\r\n  };\r\n  return (\r\n    <>\r\n      <div\r\n        className=\"subject\"\r\n        style={{\r\n          backgroundImage: `url(${Sub})`,\r\n          backgroundPosition: 'center',\r\n          backgroundSize: 'cover',\r\n          backgroundRepeat: 'no-repeat',\r\n          width: '100%',\r\n          height: '100vh',\r\n        }}\r\n      >\r\n        <div className=\"container\">\r\n          <p style={{ fontSize: '24px', color: 'white' }}>{currentRound + 1}</p>\r\n          <div className=\"round flex-row\">\r\n            <p>{teams[currentTeam].universityname || 'University Name'}</p>\r\n            <h1>\r\n              Quiz <span> {selectedRound.replace('_', ' ')} </span>\r\n            </h1>{' '}\r\n            <p>{teams[currentTeam].teamname || 'Team Name'}</p>\r\n          </div>\r\n          <div className=\"sub\">\r\n            <div className=\"sub-title text-center text-white\">\r\n              <h2>Select Subject</h2>\r\n            </div>\r\n            <div className=\"sub-content\">\r\n              {subjects.map((subject) => (\r\n                <p\r\n                  key={subject._id}\r\n                  className=\"subj\"\r\n                  onClick={() => handleSubjectClick(subject?.name)}\r\n                >\r\n                  {subject.name}\r\n                </p>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Subject;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}