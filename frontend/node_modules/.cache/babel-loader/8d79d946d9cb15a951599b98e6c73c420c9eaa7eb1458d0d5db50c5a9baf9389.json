{"ast":null,"code":"import _regeneratorRuntime from\"E:/Hero Host (FYP Proje/VisioSpark/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"E:/Hero Host (FYP Proje/VisioSpark/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _objectSpread from\"E:/Hero Host (FYP Proje/VisioSpark/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// Imports\nimport{createSlice,createAsyncThunk}from'@reduxjs/toolkit';import axios from'../../../api';var teamSlice=createSlice({name:'teams',initialState:{error:'',loading:false,data:[],currentTeam:0,currentRound:0,totalRounds:0,totalTeams:0,roundSelected:''},reducers:{setCurrentTeam:function setCurrentTeam(state,action){return _objectSpread(_objectSpread({},state),{},{currentTeam:action.payload});},setCurrentRound:function setCurrentRound(state,action){return _objectSpread(_objectSpread({},state),{},{currentRound:action.payload});},setTotalRounds:function setTotalRounds(state,action){return _objectSpread(_objectSpread({},state),{},{totalRounds:action.payload});},setTeamScore:function setTeamScore(state,action){console.log('Action: ',action.payload);console.log('Current State: ',state.data);return _objectSpread(_objectSpread({},state),{},{data:state.data.map(function(team){var _action$payload;console.log('Team: ',team.teamname);if(team.teamname.trim().toLowerCase()===(action===null||action===void 0?void 0:(_action$payload=action.payload)===null||_action$payload===void 0?void 0:_action$payload.name.trim().toLowerCase())){var _action$payload2;return _objectSpread(_objectSpread({},team),{},{score:action===null||action===void 0?void 0:(_action$payload2=action.payload)===null||_action$payload2===void 0?void 0:_action$payload2.score});}else return team;})});},setRoundSelected:function setRoundSelected(state,action){return _objectSpread(_objectSpread({},state),{},{roundSelected:action.payload});}},// adding cases for handling state life cycle of promise returned by thunk\nextraReducers:function extraReducers(builder){builder.addCase(fetchTeams.pending,function(state){return _objectSpread(_objectSpread({},state),{},{loading:true});});builder.addCase(fetchTeams.fulfilled,function(state,action){return _objectSpread(_objectSpread({},state),{},{data:action.payload.data.map(function(item){return _objectSpread(_objectSpread({},item),{},{score:0});}),totalTeams:action.payload.data.length,loading:false});});builder.addCase(fetchTeams.rejected,function(state,action){return _objectSpread(_objectSpread({},state),{},{error:action.payload,loading:false});});}});var _teamSlice$actions=teamSlice.actions,setCurrentRound=_teamSlice$actions.setCurrentRound,setCurrentTeam=_teamSlice$actions.setCurrentTeam,setTotalRounds=_teamSlice$actions.setTotalRounds,setTeamScore=_teamSlice$actions.setTeamScore,setRoundSelected=_teamSlice$actions.setRoundSelected;export{setCurrentRound,setCurrentTeam,setTotalRounds,setTeamScore,setRoundSelected};export default teamSlice.reducer;// Thunks Here\nexport var fetchTeams=createAsyncThunk('teams/fetch',/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(data,_ref){var rejectWithValue,_error$response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:rejectWithValue=_ref.rejectWithValue;_context.prev=1;_context.next=4;return axios.get(\"/selectteams?round=\".concat(data));case 4:return _context.abrupt(\"return\",_context.sent);case 7:_context.prev=7;_context.t0=_context[\"catch\"](1);return _context.abrupt(\"return\",rejectWithValue(_context.t0===null||_context.t0===void 0?void 0:(_error$response=_context.t0.response)===null||_error$response===void 0?void 0:_error$response.data));case 10:case\"end\":return _context.stop();}}},_callee,null,[[1,7]]);}));return function(_x,_x2){return _ref2.apply(this,arguments);};}());","map":{"version":3,"names":["createSlice","createAsyncThunk","axios","teamSlice","name","initialState","error","loading","data","currentTeam","currentRound","totalRounds","totalTeams","roundSelected","reducers","setCurrentTeam","state","action","payload","setCurrentRound","setTotalRounds","setTeamScore","console","log","map","team","teamname","trim","toLowerCase","score","setRoundSelected","extraReducers","builder","addCase","fetchTeams","pending","fulfilled","item","length","rejected","actions","reducer","rejectWithValue","get","response"],"sources":["E:/Hero Host (FYP Proje/VisioSpark/frontend/src/redux/features/Team/index.js"],"sourcesContent":["// Imports\nimport { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport axios from '../../../api';\nconst teamSlice = createSlice({\n  name: 'teams',\n  initialState: {\n    error: '',\n    loading: false,\n    data: [],\n    currentTeam: 0,\n    currentRound: 0,\n    totalRounds: 0,\n    totalTeams: 0,\n    roundSelected: '',\n  },\n\n  reducers: {\n    setCurrentTeam: (state, action) => {\n      return { ...state, currentTeam: action.payload };\n    },\n    setCurrentRound: (state, action) => {\n      return { ...state, currentRound: action.payload };\n    },\n    setTotalRounds: (state, action) => {\n      return { ...state, totalRounds: action.payload };\n    },\n    setTeamScore: (state, action) => {\n      console.log('Action: ', action.payload);\n      console.log('Current State: ', state.data);\n      return {\n        ...state,\n        data: state.data.map((team) => {\n          console.log('Team: ', team.teamname);\n          if (\n            team.teamname.trim().toLowerCase() ===\n            action?.payload?.name.trim().toLowerCase()\n          ) {\n            return { ...team, score: action?.payload?.score };\n          } else return team;\n        }),\n      };\n    },\n    setRoundSelected: (state, action) => {\n      return { ...state, roundSelected: action.payload };\n    },\n  },\n  // adding cases for handling state life cycle of promise returned by thunk\n  extraReducers: (builder) => {\n    builder.addCase(fetchTeams.pending, (state) => {\n      return { ...state, loading: true };\n    });\n    builder.addCase(fetchTeams.fulfilled, (state, action) => {\n      return {\n        ...state,\n        data: action.payload.data.map((item) => {\n          return { ...item, score: 0 };\n        }),\n        totalTeams: action.payload.data.length,\n        loading: false,\n      };\n    });\n    builder.addCase(fetchTeams.rejected, (state, action) => {\n      return { ...state, error: action.payload, loading: false };\n    });\n  },\n});\n\nexport const {\n  setCurrentRound,\n  setCurrentTeam,\n  setTotalRounds,\n  setTeamScore,\n  setRoundSelected,\n} = teamSlice.actions;\nexport default teamSlice.reducer;\n\n// Thunks Here\nexport const fetchTeams = createAsyncThunk(\n  'teams/fetch',\n  async (data, { rejectWithValue }) => {\n    try {\n      return await axios.get(`/selectteams?round=${data}`);\n    } catch (error) {\n      return rejectWithValue(error?.response?.data);\n    }\n  }\n);\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}