{"ast":null,"code":"import _regeneratorRuntime from\"E:/Hero Host (FYP Proje/VisioSpark/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"E:/Hero Host (FYP Proje/VisioSpark/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"E:/Hero Host (FYP Proje/VisioSpark/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import'./index.css';import Img from'../mainimg.png';import Mainbg from'../mainbg.png';import Button from'react-bootstrap/Button';import Form from'react-bootstrap/Form';import{toast}from'react-toastify';import{useDispatch,useSelector}from'react-redux';import{useNavigate}from'react-router-dom';import{fetchTeams,setTotalRounds,setRoundSelected}from'../redux/features/Team';import{setTime}from'../redux/features/Timer';import{ClipLoader}from'react-spinners';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Main=function Main(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),rounds=_useState2[0],setRounds=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),selectedRound=_useState4[0],setSelectedRound=_useState4[1];var _useState5=useState(1),_useState6=_slicedToArray(_useState5,2),noMcqs=_useState6[0],setNoMcqs=_useState6[1];var loading=useSelector(function(state){return state.teams.loading;});var _useState7=useState(30),_useState8=_slicedToArray(_useState7,2),maxTime=_useState8[0],setMaxTime=_useState8[1];var dispatch=useDispatch();var navigate=useNavigate();useEffect(function(){function fetchRounds(){return _fetchRounds.apply(this,arguments);}function _fetchRounds(){_fetchRounds=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var _data$;var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch('/rounds');case 2:response=_context.sent;_context.next=5;return response.json();case 5:data=_context.sent;setRounds(data);setSelectedRound((_data$=data[0])===null||_data$===void 0?void 0:_data$.roundname);case 8:case\"end\":return _context.stop();}}},_callee);}));return _fetchRounds.apply(this,arguments);}fetchRounds();},[]);var handleRoundChange=function handleRoundChange(event){setSelectedRound(event.target.value);};//  Form Handler here\nvar handleSubmit=function handleSubmit(event){event.preventDefault();try{if(selectedRound&&selectedRound!==''&&noMcqs&&noMcqs!==''){var totalRounds=Number.parseInt(noMcqs);// validations are done, now we will hit our api for extracting teams for selectedRound\ndispatch(fetchTeams(selectedRound)).unwrap().then(function(){dispatch(setTotalRounds(totalRounds));dispatch(setRoundSelected(selectedRound));dispatch(setTime(Number.parseInt(maxTime)));toast.success('Fetched Successfully');navigate('/start');}).catch(function(err){return toast.error((err===null||err===void 0?void 0:err.message)||'Something went wrong');});}else{throw new Error('Please select all options.');}}catch(error){toast.error(error===null||error===void 0?void 0:error.message);}};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"main2 container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"main m-4 \",style:{backgroundImage:\"url(\".concat(Mainbg,\")\"),backgroundPosition:'center',backgroundSize:'cover',backgroundRepeat:'no-repeat',width:'100%'},children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"container main-set col-6\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text\",children:\"Visio Spark Quiz\"}),/*#__PURE__*/_jsxs(Form,{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-4\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Select Round\"}),/*#__PURE__*/_jsx(Form.Select,{onChange:handleRoundChange,children:rounds.map(function(option){return/*#__PURE__*/_jsx(\"option\",{value:option.roundname,children:option.roundname},option._id);})})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-4\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Number Of Mcqs\"}),/*#__PURE__*/_jsxs(Form.Select,{onChange:function onChange(e){return setNoMcqs(e.target.value);},children:[/*#__PURE__*/_jsx(\"option\",{value:1,children:\"1\"}),/*#__PURE__*/_jsx(\"option\",{value:3,children:\"3\"})]})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-4\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Select Timer\"}),/*#__PURE__*/_jsxs(Form.Select,{onChange:function onChange(e){return setMaxTime(e.target.value);},children:[/*#__PURE__*/_jsx(\"option\",{value:30,children:\"30\"}),/*#__PURE__*/_jsx(\"option\",{value:60,children:\"60\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"d-grid gap-2 mt-3\",children:/*#__PURE__*/_jsxs(Button,{type:\"submit\",className:\"btn btn\",disabled:loading,style:{display:'flex',alignItems:'center'},children:[\"Submit\",loading&&/*#__PURE__*/_jsx(ClipLoader,{size:\"20\",cssOverride:{marginLeft:'1rem'}})]})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mainimg col-6\",children:/*#__PURE__*/_jsx(\"img\",{src:Img,alt:\"\"})})]})})})});};export default Main;","map":{"version":3,"names":["React","useEffect","useState","Img","Mainbg","Button","Form","toast","useDispatch","useSelector","useNavigate","fetchTeams","setTotalRounds","setRoundSelected","setTime","ClipLoader","Main","rounds","setRounds","selectedRound","setSelectedRound","noMcqs","setNoMcqs","loading","state","teams","maxTime","setMaxTime","dispatch","navigate","fetchRounds","fetch","response","json","data","roundname","handleRoundChange","event","target","value","handleSubmit","preventDefault","totalRounds","Number","parseInt","unwrap","then","success","catch","err","error","message","Error","backgroundImage","backgroundPosition","backgroundSize","backgroundRepeat","width","map","option","_id","e","display","alignItems","marginLeft"],"sources":["E:/Hero Host (FYP Proje/VisioSpark/frontend/src/component/main2.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\n\r\nimport './index.css';\r\nimport Img from '../mainimg.png';\r\nimport Mainbg from '../mainbg.png';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Form from 'react-bootstrap/Form';\r\nimport { toast } from 'react-toastify';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport {\r\n  fetchTeams,\r\n  setTotalRounds,\r\n  setRoundSelected,\r\n} from '../redux/features/Team';\r\nimport { setTime } from '../redux/features/Timer';\r\nimport { ClipLoader } from 'react-spinners';\r\nconst Main = () => {\r\n  const [rounds, setRounds] = useState([]);\r\n  const [selectedRound, setSelectedRound] = useState('');\r\n  const [noMcqs, setNoMcqs] = useState(1);\r\n  const loading = useSelector((state) => state.teams.loading);\r\n  const [maxTime, setMaxTime] = useState(30);\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    async function fetchRounds() {\r\n      const response = await fetch('/rounds');\r\n      const data = await response.json();\r\n      setRounds(data);\r\n      setSelectedRound(data[0]?.roundname);\r\n    }\r\n    fetchRounds();\r\n  }, []);\r\n\r\n  const handleRoundChange = (event) => {\r\n    setSelectedRound(event.target.value);\r\n  };\r\n\r\n  //  Form Handler here\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    try {\r\n      if (selectedRound && selectedRound !== '' && noMcqs && noMcqs !== '') {\r\n        const totalRounds = Number.parseInt(noMcqs);\r\n        // validations are done, now we will hit our api for extracting teams for selectedRound\r\n        dispatch(fetchTeams(selectedRound))\r\n          .unwrap()\r\n          .then(() => {\r\n            dispatch(setTotalRounds(totalRounds));\r\n            dispatch(setRoundSelected(selectedRound));\r\n            dispatch(setTime(Number.parseInt(maxTime)));\r\n            toast.success('Fetched Successfully');\r\n            navigate('/start');\r\n          })\r\n          .catch((err) => toast.error(err?.message || 'Something went wrong'));\r\n      } else {\r\n        throw new Error('Please select all options.');\r\n      }\r\n    } catch (error) {\r\n      toast.error(error?.message);\r\n    }\r\n  };\r\n  return (\r\n    <>\r\n      <div className=\"main2 container\">\r\n        <div\r\n          className=\"main m-4 \"\r\n          style={{\r\n            backgroundImage: `url(${Mainbg})`,\r\n            backgroundPosition: 'center',\r\n            backgroundSize: 'cover',\r\n            backgroundRepeat: 'no-repeat',\r\n            width: '100%',\r\n          }}\r\n        >\r\n          <div className=\"row\">\r\n            <div className=\"container main-set col-6\">\r\n              <h1 className=\"text\">Visio Spark Quiz</h1>\r\n              <Form onSubmit={handleSubmit}>\r\n                <Form.Group className=\"mb-4\">\r\n                  <Form.Label>Select Round</Form.Label>\r\n                  <Form.Select onChange={handleRoundChange}>\r\n                    {rounds.map((option) => (\r\n                      <option key={option._id} value={option.roundname}>\r\n                        {option.roundname}\r\n                      </option>\r\n                    ))}\r\n                  </Form.Select>\r\n                </Form.Group>\r\n                <Form.Group className=\"mb-4\">\r\n                  <Form.Label>Number Of Mcqs</Form.Label>\r\n                  <Form.Select onChange={(e) => setNoMcqs(e.target.value)}>\r\n                    <option value={1}>1</option>\r\n                    <option value={3}>3</option>\r\n                  </Form.Select>\r\n                </Form.Group>\r\n                <Form.Group className=\"mb-4\">\r\n                  <Form.Label>Select Timer</Form.Label>\r\n                  <Form.Select onChange={(e) => setMaxTime(e.target.value)}>\r\n                    <option value={30}>30</option>\r\n                    <option value={60}>60</option>\r\n                  </Form.Select>\r\n                </Form.Group>\r\n                <div className=\"d-grid gap-2 mt-3\">\r\n                  <Button\r\n                    type=\"submit\"\r\n                    className=\"btn btn\"\r\n                    disabled={loading}\r\n                    style={{\r\n                      display: 'flex',\r\n                      alignItems: 'center',\r\n                    }}\r\n                  >\r\n                    Submit\r\n                    {loading && (\r\n                      <ClipLoader\r\n                        size=\"20\"\r\n                        cssOverride={{ marginLeft: '1rem' }}\r\n                      />\r\n                    )}\r\n                  </Button>\r\n                </div>\r\n              </Form>\r\n            </div>\r\n            <div className=\"mainimg col-6\">\r\n              <img src={Img} alt=\"\" />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Main;\r\n"],"mappings":"mZAAA,MAAOA,MAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAElD,MAAO,aAAa,CACpB,MAAOC,IAAG,KAAM,gBAAgB,CAChC,MAAOC,OAAM,KAAM,eAAe,CAClC,MAAOC,OAAM,KAAM,wBAAwB,CAC3C,MAAOC,KAAI,KAAM,sBAAsB,CACvC,OAASC,KAAK,KAAQ,gBAAgB,CACtC,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,OACEC,UAAU,CACVC,cAAc,CACdC,gBAAgB,KACX,wBAAwB,CAC/B,OAASC,OAAO,KAAQ,yBAAyB,CACjD,OAASC,UAAU,KAAQ,gBAAgB,CAAC,6IAC5C,GAAMC,KAAI,CAAG,QAAPA,KAAI,EAAS,CACjB,cAA4Bd,QAAQ,CAAC,EAAE,CAAC,wCAAjCe,MAAM,eAAEC,SAAS,eACxB,eAA0ChB,QAAQ,CAAC,EAAE,CAAC,yCAA/CiB,aAAa,eAAEC,gBAAgB,eACtC,eAA4BlB,QAAQ,CAAC,CAAC,CAAC,yCAAhCmB,MAAM,eAAEC,SAAS,eACxB,GAAMC,QAAO,CAAGd,WAAW,CAAC,SAACe,KAAK,QAAKA,MAAK,CAACC,KAAK,CAACF,OAAO,GAAC,CAC3D,eAA8BrB,QAAQ,CAAC,EAAE,CAAC,yCAAnCwB,OAAO,eAAEC,UAAU,eAC1B,GAAMC,SAAQ,CAAGpB,WAAW,EAAE,CAC9B,GAAMqB,SAAQ,CAAGnB,WAAW,EAAE,CAE9BT,SAAS,CAAC,UAAM,SACC6B,YAAW,6IAA1B,wLACyBC,MAAK,CAAC,SAAS,CAAC,QAAjCC,QAAQ,qCACKA,SAAQ,CAACC,IAAI,EAAE,QAA5BC,IAAI,eACVhB,SAAS,CAACgB,IAAI,CAAC,CACfd,gBAAgB,SAACc,IAAI,CAAC,CAAC,CAAC,iCAAP,OAASC,SAAS,CAAC,CAAC,sDACtC,8CACDL,WAAW,EAAE,CACf,CAAC,CAAE,EAAE,CAAC,CAEN,GAAMM,kBAAiB,CAAG,QAApBA,kBAAiB,CAAIC,KAAK,CAAK,CACnCjB,gBAAgB,CAACiB,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC,CACtC,CAAC,CAED;AACA,GAAMC,aAAY,CAAG,QAAfA,aAAY,CAAIH,KAAK,CAAK,CAC9BA,KAAK,CAACI,cAAc,EAAE,CACtB,GAAI,CACF,GAAItB,aAAa,EAAIA,aAAa,GAAK,EAAE,EAAIE,MAAM,EAAIA,MAAM,GAAK,EAAE,CAAE,CACpE,GAAMqB,YAAW,CAAGC,MAAM,CAACC,QAAQ,CAACvB,MAAM,CAAC,CAC3C;AACAO,QAAQ,CAACjB,UAAU,CAACQ,aAAa,CAAC,CAAC,CAChC0B,MAAM,EAAE,CACRC,IAAI,CAAC,UAAM,CACVlB,QAAQ,CAAChB,cAAc,CAAC8B,WAAW,CAAC,CAAC,CACrCd,QAAQ,CAACf,gBAAgB,CAACM,aAAa,CAAC,CAAC,CACzCS,QAAQ,CAACd,OAAO,CAAC6B,MAAM,CAACC,QAAQ,CAAClB,OAAO,CAAC,CAAC,CAAC,CAC3CnB,KAAK,CAACwC,OAAO,CAAC,sBAAsB,CAAC,CACrClB,QAAQ,CAAC,QAAQ,CAAC,CACpB,CAAC,CAAC,CACDmB,KAAK,CAAC,SAACC,GAAG,QAAK1C,MAAK,CAAC2C,KAAK,CAAC,CAAAD,GAAG,SAAHA,GAAG,iBAAHA,GAAG,CAAEE,OAAO,GAAI,sBAAsB,CAAC,GAAC,CACxE,CAAC,IAAM,CACL,KAAM,IAAIC,MAAK,CAAC,4BAA4B,CAAC,CAC/C,CACF,CAAE,MAAOF,KAAK,CAAE,CACd3C,KAAK,CAAC2C,KAAK,CAACA,KAAK,SAALA,KAAK,iBAALA,KAAK,CAAEC,OAAO,CAAC,CAC7B,CACF,CAAC,CACD,mBACE,sCACE,YAAK,SAAS,CAAC,iBAAiB,uBAC9B,YACE,SAAS,CAAC,WAAW,CACrB,KAAK,CAAE,CACLE,eAAe,eAASjD,MAAM,KAAG,CACjCkD,kBAAkB,CAAE,QAAQ,CAC5BC,cAAc,CAAE,OAAO,CACvBC,gBAAgB,CAAE,WAAW,CAC7BC,KAAK,CAAE,MACT,CAAE,uBAEF,aAAK,SAAS,CAAC,KAAK,wBAClB,aAAK,SAAS,CAAC,0BAA0B,wBACvC,WAAI,SAAS,CAAC,MAAM,8BAAsB,cAC1C,MAAC,IAAI,EAAC,QAAQ,CAAEjB,YAAa,wBAC3B,MAAC,IAAI,CAAC,KAAK,EAAC,SAAS,CAAC,MAAM,wBAC1B,KAAC,IAAI,CAAC,KAAK,2BAA0B,cACrC,KAAC,IAAI,CAAC,MAAM,EAAC,QAAQ,CAAEJ,iBAAkB,UACtCnB,MAAM,CAACyC,GAAG,CAAC,SAACC,MAAM,qBACjB,eAAyB,KAAK,CAAEA,MAAM,CAACxB,SAAU,UAC9CwB,MAAM,CAACxB,SAAS,EADNwB,MAAM,CAACC,GAAG,CAEd,EACV,CAAC,EACU,GACH,cACb,MAAC,IAAI,CAAC,KAAK,EAAC,SAAS,CAAC,MAAM,wBAC1B,KAAC,IAAI,CAAC,KAAK,6BAA4B,cACvC,MAAC,IAAI,CAAC,MAAM,EAAC,QAAQ,CAAE,kBAACC,CAAC,QAAKvC,UAAS,CAACuC,CAAC,CAACvB,MAAM,CAACC,KAAK,CAAC,EAAC,wBACtD,eAAQ,KAAK,CAAE,CAAE,eAAW,cAC5B,eAAQ,KAAK,CAAE,CAAE,eAAW,GAChB,GACH,cACb,MAAC,IAAI,CAAC,KAAK,EAAC,SAAS,CAAC,MAAM,wBAC1B,KAAC,IAAI,CAAC,KAAK,2BAA0B,cACrC,MAAC,IAAI,CAAC,MAAM,EAAC,QAAQ,CAAE,kBAACsB,CAAC,QAAKlC,WAAU,CAACkC,CAAC,CAACvB,MAAM,CAACC,KAAK,CAAC,EAAC,wBACvD,eAAQ,KAAK,CAAE,EAAG,gBAAY,cAC9B,eAAQ,KAAK,CAAE,EAAG,gBAAY,GAClB,GACH,cACb,YAAK,SAAS,CAAC,mBAAmB,uBAChC,MAAC,MAAM,EACL,IAAI,CAAC,QAAQ,CACb,SAAS,CAAC,SAAS,CACnB,QAAQ,CAAEhB,OAAQ,CAClB,KAAK,CAAE,CACLuC,OAAO,CAAE,MAAM,CACfC,UAAU,CAAE,QACd,CAAE,oBAGDxC,OAAO,eACN,KAAC,UAAU,EACT,IAAI,CAAC,IAAI,CACT,WAAW,CAAE,CAAEyC,UAAU,CAAE,MAAO,CAAE,EAEvC,GACM,EACL,GACD,GACH,cACN,YAAK,SAAS,CAAC,eAAe,uBAC5B,YAAK,GAAG,CAAE7D,GAAI,CAAC,GAAG,CAAC,EAAE,EAAG,EACpB,GACF,EACF,EACF,EACL,CAEP,CAAC,CAED,cAAea,KAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}